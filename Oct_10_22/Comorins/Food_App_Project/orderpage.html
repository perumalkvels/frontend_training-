<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- bootstrap Initiated -->
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/index.css"/>
    <script src="./js/content.js"></script>
</head>
<body>
    
    <!-- Header Starts here -->
    <div class="wrapper">
    <header class="container_fluid">
        <div class="top_title" class="row">
        <img   src="https://www.codester.com/static/uploads/items/000/018/18519/preview-xl.jpg"/>
        <p class="text-center ">Taste that best, its on time</p>
        </div>
       
        <nav class="container_fluid navbar navbar-expand-lg bg-dark" id="navbar">

            <!-- Here is a button declaration for toggle a navbar contents -->
            <button class="sampleclass2 navbar-toggler" type="button" 
            data-bs-toggle="collapse" data-bs-target="#menu">
            <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
              </svg> -->
            </button>

            <div class="sampleclass1 collapse navbar-collapse row" id="menu">

                <ul class="navbar-nav mx-auto  col-lg-9 p-0 m-0">
                    <li class="nav-item"><a class="nav-link text-white" href="./index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="./addProduct.html">Products</a></li>
                    <li class="nav-item"><a class="nav-link text-white" ><button type="submit" class="p-0 m-0 kartbutton" onclick=isUserAlive()>Kart</button><img style="color:white" class="nav-icon-img" src="./images/cart-plus-fill.svg"></a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="./orderpage.html">Orders<img style="color:white" class="nav-icon-img" src="./images/bag-check-fill.svg"></a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="./login.html" >Account<img style="color:white" class="nav-icon-img" src="./images/person-circle.svg"></a></li>
                    <li class="nav-item" id="user_status"></li>
                </ul>

                <form class="form-inline col-lg-3 mx-auto justify-content-center">
                    <input class="form-control mr-sm-2" type="search" placeholder="Search Your Favs" aria-label="Search">
                </form>
            
            </div>
        
        </nav>
    </header>

    <!-- Section Starts here -->
    <section class="container-fluid pm-0 mt-5">
        <div class="container h-100">
            <div class="row d-flex justify-content-center align-items-center h-100">
              <div class="col">
                <p><span class="h2">Your Orders</span><span class="h4 ml-5" id="orderpageStatus">Item On the way To Deliver</span></p>
        
                <div class="card border-0 mb-5" id="orderItems">
                  
                </div>
        
                <div class="card mb-5">
                  <div class="card-body p-4">
        
                    <div class="float-end">
                      <p class="mb-0 me-5 d-flex align-items-center" >
                        <span class="small text-muted mx-auto h4">Order total:</span><span class="mx-auto mr-5 py-5" 
                        id="totalItem"></span> <span class="lead fw-normal mr-5 pr-5" id="totalAmount"></span>
                      </p>
                    </div>
        
                  </div>
                </div>
        
                <div class="d-flex justify-content-end mb-5">
                  <a type="button" class="btn btn-light btn-lg me-2" href="./index.html">Continue shopping</a>
                </div>
        
              </div>
            </div>
          </div>
 
    </section>

    <!-- Footer Starts here -->
    <footer class="container-fluid bg-dark">
        <div class="inside-footer container row p-5">
            <div class="col-4 foot-div1">
                <img class="footer_logo" src="https://www.codester.com/static/uploads/items/000/018/18519/preview-xl.jpg" >
            </div>
            <ul class="footlist col-8 row">
                <div class="footer-listset pl-5 col-12">
                <li class="col1">Near By</li>
                <li class="col1">Services</li>
                <li class="col1">About us</li>
                </div>
                <div class="footer-listset pl-5 col-12">
                <li class="col2">Contact us</li>
                <li class="col2">Feedbacks</li>
                <li class="col2"><a href="./addProduct.html">Products</a></li>
                </div>
            </ul>
        <div class="copyrights col-12 mt-5">
            <p class="text-center text-white">Copyrights @2022. All Rights Reserved </p>
        </div>
        </div>
    </footer>
</div>
    <script>

   let orderItems=JSON.parse(localStorage.getItem("Order_Items"));
    let foodList=JSON.parse(localStorage.getItem("food_list"));


function placeOrder(){

    let order="";
    for(let i=0;i<foodList.length;i++){
      // console.log(typeof(foodList[i].foodId));
      // console.log(typeof(orderItems[i]));
        if(foodList[i].foodId=orderItems[i]){
          
          foodList[i].foodPrice = foodList[i].foodPrice*orderItems[i].quantity;

        order = order+ "<div class='card-body border mt-3 p-4 ' id='"+ orderItems[i].itemId +"'><div class='row align-items-center'><div class='col-md-3'>"
                +  "<img src='"+foodList[i].foodImg  +"' class='img-fluid' style='max-width:100%;max-height:150px' id='food-img'></div>"
                +  "<div class='col-md-3 d-flex justify-content-center'><div>"
                +  "<h5 class='text-muted mb-4 pb-2 h5 text-center'>Name</h5>"
                +  "<p class='lead fw-normal mb-0 text-center'>"+ foodList[i].foodTitle +"</p></div></div>"
                +  "<div class='col-md-3 d-flex justify-content-center'><div>"
                +  "<h5 class='text-muted mb-4 pb-2 h5  text-center'>Quantity</h5>"
                +  "<p class='lead fw-normal mb-0 text-center'>"+ orderItems[i].quantity +"</p></div></div>"
                +  "<div class='col-md-3 d-flex justify-content-center'><div>"
                +  "<h5 class='text-muted mb-4 pb-2 h5  text-center'>Price</h5>"
                +  "<p class='lead fw-normal mb-0 text-center'>"+ foodList[i].foodPrice +"</p></div></div></div></div>"
        }
    }
    
    document.getElementById("orderItems").innerHTML=order;

}
placeOrder();

function updateAmount(){

  let sum=0;
  let count=0;
  for(i=0;i<orderItems.length;i++){
         
    if(orderItems[i]=foodList[i].foodId){
          // console.log(orderItems[i]);
          // console.log(foodList[i].foodPrice);
          // console.log(typeof(orderItems[i]));
          // console.log(typeof(foodList[i].foodPrice));
          let foodPrice = Number(foodList[i].foodPrice);

      sum = sum + foodPrice;
      count++;
  }
  console.log(sum);
}
document.getElementById("totalAmount").innerHTML=sum;
document.getElementById("totalItem").innerHTML=count+" Items";

}
updateAmount();

</script>
    <script src="./js/user.js"></script>
    <script src="./js/jquery.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>

</body>
</html>